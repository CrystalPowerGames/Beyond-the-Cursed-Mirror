#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"

#include "game/level_update.h"

#include "levels/scripts.h"

#include "actors/common1.h"

/* Fast64 begin persistent block [includes] */
/* Fast64 end persistent block [includes] */

#include "make_const_nonconst.h"
#include "levels/bob/header.h"

/* Fast64 begin persistent block [scripts] */
/* Fast64 end persistent block [scripts] */

const LevelScript level_bob_entry[] = {
	INIT_LEVEL(),
	LOAD_YAY0(0x07, _bob_segment_7SegmentRomStart, _bob_segment_7SegmentRomEnd), 
	LOAD_YAY0_TEXTURE(0x09, _generic_yay0SegmentRomStart, _generic_yay0SegmentRomEnd), 
	LOAD_YAY0(0x0A, _bitfs_skybox_yay0SegmentRomStart, _bitfs_skybox_yay0SegmentRomEnd), 
	LOAD_YAY0(0x05, _group2_yay0SegmentRomStart, _group2_yay0SegmentRomEnd), 
	LOAD_RAW(0x0C, _group2_geoSegmentRomStart, _group2_geoSegmentRomEnd), 
	LOAD_YAY0(0x06, _group14_yay0SegmentRomStart, _group14_yay0SegmentRomEnd), 
	LOAD_RAW(0x0D, _group14_geoSegmentRomStart, _group14_geoSegmentRomEnd), 
	LOAD_YAY0(0x08, _common0_yay0SegmentRomStart, _common0_yay0SegmentRomEnd), 
	LOAD_RAW(0x0F, _common0_geoSegmentRomStart, _common0_geoSegmentRomEnd), 
	LOAD_YAY0(0xb, _effect_yay0SegmentRomStart, _effect_yay0SegmentRomEnd), 
	ALLOC_LEVEL_POOL(),
	MARIO(MODEL_MARIO, 0x00000001, bhvMario), 
	JUMP_LINK(script_func_global_1), 
	JUMP_LINK(script_func_global_3), 
	JUMP_LINK(script_func_global_15), 
	LOAD_MODEL_FROM_GEO(MODEL_BOB_BUBBLY_TREE, bubbly_tree_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_BOB_CHAIN_CHOMP_GATE, bob_geo_000440), 
	LOAD_MODEL_FROM_GEO(MODEL_BOB_SEESAW_PLATFORM, bob_geo_000458), 
	LOAD_MODEL_FROM_GEO(MODEL_BOB_BARS_GRILLS, bob_geo_000470), 
	LOAD_MODEL_FROM_GEO(0xFF, Tilt_Slate), 
	LOAD_MODEL_FROM_GEO(0xFE, Lava_Spewer_Geo), 
	LOAD_MODEL_FROM_GEO(0xFD, shock_geo), 
	LOAD_MODEL_FROM_GEO(0xFC, kingbully_geo), 
	LOAD_MODEL_FROM_GEO(0xFB, shard_geo), 

	/* Fast64 begin persistent block [level commands] */
	/* Fast64 end persistent block [level commands] */

	AREA(1, bob_area_1),
		WARP_NODE(0x0A, LEVEL_BOB, 0x01, 0x0A, WARP_NO_CHECKPOINT),
		WARP_NODE(240, LEVEL_CASTLE, 0x01, 0xB, WARP_NO_CHECKPOINT),
		WARP_NODE(241, LEVEL_CASTLE, 0x01, 0xA, WARP_NO_CHECKPOINT),
		OBJECT(MODEL_ATM, -2975, 5023, -5119, 0, -90, 0, 0x00000000, bhvATM),
		OBJECT(MODEL_BLUE_COIN_SWITCH, -3975, 2640, 4749, 0, 0, 0, 0x00000000, bhvBlueCoinSwitch),
		OBJECT(MODEL_EXCLAMATION_BOX, -1272, 2010, -1956, 0, 90, 0, 0x00030000, bhvExclamationBox),
		OBJECT(MODEL_EXCLAMATION_BOX, -1926, 2933, 4698, 0, 0, 0, 0x00060000, bhvExclamationBox),
		OBJECT(MODEL_EXCLAMATION_BOX, -7365, 2705, 4541, 0, 0, 0, 0x00040000, bhvExclamationBox),
		OBJECT(MODEL_EXCLAMATION_BOX, 6662, 3236, -3533, 0, 90, 0, 0x00030000, bhvExclamationBox),
		OBJECT(MODEL_BULLY, -3950, 2498, 595, 0, 0, 0, 0x00000000, bhvSmallBully),
		OBJECT(MODEL_BULLY, -5094, 2285, -3165, 0, 0, 0, 0x00000000, bhvSmallBully),
		OBJECT(MODEL_BULLY, 36, 2461, 4072, 0, 0, 0, 0x00000000, bhvSmallBully),
		OBJECT(MODEL_BULLY, -2079, 2371, -3519, 0, 0, 0, 0x00000000, bhvSmallBully),
		OBJECT(MODEL_BULLY, 1919, 2371, -3474, 0, 0, 0, 0x00000000, bhvSmallBully),
		OBJECT(MODEL_BULLY, -3950, 2387, 5229, 0, 0, 0, 0x00000000, bhvSmallBully),
		OBJECT(MODEL_BULLY, -1637, 1879, -13, 0, 90, 0, 0x03240000, bhvBullyNPC),
		OBJECT(MODEL_YELLOW_COIN, 9233, 2707, -289, 0, 0, 0, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, 9171, 2681, -514, 0, 0, 0, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, 9019, 2599, -720, 0, 0, 0, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, 9112, 2661, -73, 0, 0, 0, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, 8921, 2583, 134, 0, 0, 0, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, 5964, 2424, 7156, 2, -58, -6, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, 6120, 2388, 6985, 2, -58, -6, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, 6209, 2302, 6747, 2, -58, -6, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, 5714, 2398, 7167, 2, -58, -6, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, 5432, 2344, 7112, 2, -58, -6, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, -4052, 2334, 6656, -47, -97, 48, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, -3823, 2319, 6610, -47, -97, 48, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, -3603, 2256, 6469, -47, -97, 48, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, -4257, 2293, 6514, -47, -97, 48, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, -4446, 2227, 6301, -47, -97, 48, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, -3419, 2609, -8521, -47, 83, -48, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, -3648, 2594, -8476, -47, 83, -48, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, -3868, 2531, -8335, -47, 83, -48, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, -3214, 2568, -8380, -47, 83, -48, 0x00000000, bhvYellowCoin),
		OBJECT(MODEL_YELLOW_COIN, -3025, 2502, -8167, -47, 83, -48, 0x00000000, bhvYellowCoin),
		OBJECT(0xF0, 6501, 2716, 4072, 0, 0, 0, 0x00000000, bhvCrowbarPower),
		OBJECT(MODEL_EXCLAMATION_BOX, 5682, 4349, -287, 0, 0, 0, 0x00010000, bhvExclamationBox),
		OBJECT(0xEB, 8994, 2798, -373, 0, 90, 0, 0x00000000, bhvGoldRing),
		OBJECT(0xEB, 1520, 2964, 6520, 0, 0, 0, 0x00000000, bhvGoldRing),
		OBJECT(0xEB, -8288, 3237, 1540, 0, 90, 0, 0x00000000, bhvGoldRing),
		OBJECT(0xEB, -3970, 2470, 6409, 0, 0, 0, 0x00000000, bhvGoldRing),
		OBJECT(0xEB, -1444, 3176, -7822, 0, 90, 0, 0x00000000, bhvGoldRing),
		OBJECT(0xEF, 3836, 4648, -8697, -47, -97, 48, 0x00000000, bhvGreenCoin),
		OBJECT(0xEF, -1444, 2893, -7822, -47, -97, 48, 0x00000000, bhvGreenCoin),
		OBJECT(0xEF, 4115, 4120, -1851, 0, 0, 0, 0x00000000, bhvGreenCoin),
		OBJECT(0xEF, -9822, 3430, -4511, -47, -97, 48, 0x00000000, bhvGreenCoin),
		OBJECT(0xEF, 7249, 4112, 1270, 0, 0, 0, 0x00000000, bhvGreenCoin),
		OBJECT(0xEE, -8378, 2952, -2505, 0, 0, 0, 0x00000000, bhvHammerBro),
		OBJECT(0xEE, -6924, 2952, -4183, 0, -180, 0, 0x00000000, bhvHammerBro),
		OBJECT(0xEE, 5954, 2938, -5023, 0, 0, 0, 0x00000000, bhvHammerBro),
		OBJECT(0xEA, -4044, 4510, 4733, 0, 0, 0, 0x00000000, bhvMetalCrate),
		OBJECT(0xEA, -4044, 4310, 4733, 0, 0, 0, 0x00010000, bhvMetalCrate),
		OBJECT(0xEA, -4044, 4110, 4733, 0, 0, 0, 0x00000000, bhvMetalCrate),
		OBJECT(0xEA, -3610, 4310, 5586, 0, 0, 0, 0x00000000, bhvMetalCrate),
		OBJECT(0xEA, -3610, 4110, 5586, 0, 0, 0, 0x03020000, bhvMetalCrate),
		OBJECT(0xEA, -3137, 4310, 3856, 0, 0, 0, 0x00000000, bhvMetalCrate),
		OBJECT(0xEA, -3137, 4110, 3856, 0, 0, 0, 0x00000000, bhvMetalCrate),
		OBJECT(0xEA, -5021, 4310, 3299, 0, 0, 0, 0x00010000, bhvMetalCrate),
		OBJECT(0xEA, -5021, 4110, 3299, 0, 0, 0, 0x00000000, bhvMetalCrate),
		OBJECT(0xEA, -5044, 4110, 5187, 0, 0, 0, 0x00000000, bhvMetalCrate),
		OBJECT(0xEA, -4535, 4110, 3989, 0, 0, 0, 0x00000000, bhvMetalCrate),
		OBJECT(0xEA, -2763, 4110, 5860, 0, 0, 0, 0x00010000, bhvMetalCrate),
		OBJECT(0xEA, -3820, 4110, 3520, 0, 0, 0, 0x00010000, bhvMetalCrate),
		OBJECT(MODEL_RED_COIN, 2930, 4602, -7589, 0, 0, 0, 0x00000000, bhvRedCoin),
		OBJECT(MODEL_RED_COIN, 678, 4693, -7752, 0, 0, 0, 0x00000000, bhvRedCoin),
		OBJECT(MODEL_RED_COIN, 678, 5578, -7752, 0, 0, 0, 0x00000000, bhvRedCoin),
		OBJECT(MODEL_RED_COIN, 2154, 5109, -7974, 0, 0, 0, 0x00000000, bhvRedCoin),
		OBJECT(MODEL_RED_COIN, 1499, 5193, -8481, 0, 0, 0, 0x00000000, bhvRedCoin),
		OBJECT(MODEL_RED_COIN, 209, 4919, -6744, 0, 0, 0, 0x00000000, bhvRedCoin),
		OBJECT(MODEL_RED_COIN, 1092, 5267, -7027, 0, 0, 0, 0x00000000, bhvRedCoin),
		OBJECT(MODEL_RED_COIN, 488, 5080, -8429, 0, 0, 0, 0x00000000, bhvRedCoin),
		OBJECT(MODEL_NONE, 3899, 4811, -7596, 0, 0, 0, (1 << 24), bhvHiddenRedCoinStar),
		OBJECT(MODEL_NONE, 36, 2471, 4072, 0, 0, 0, 0x00020000, bhvCoinFormation),
		OBJECT(MODEL_NONE, 4830, 2111, 2158, 0, 0, 0, 0x00020000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -7365, 2431, 4541, 0, 0, 0, 0x00020000, bhvCoinFormation),
		OBJECT(MODEL_PURPLE_SWITCH, 236, 2713, 9142, 0, 0, 0, 0x04320000, bhvPurpleSwitchHiddenBoxes),
		OBJECT(MODEL_WOODEN_SIGNPOST, -1094, 1686, -1776, 0, 45, 0, 0x00250000, bhvMessagePanel),
		OBJECT(MODEL_WOODEN_SIGNPOST, -4489, 5023, -2135, 0, 90, 0, 0x00260000, bhvMessagePanel),
		OBJECT(MODEL_WOODEN_SIGNPOST, -2859, 5023, -2778, 0, -90, 0, 0x00270000, bhvMessagePanel),
		OBJECT(MODEL_WOODEN_SIGNPOST, -5434, 4110, 3338, 0, 0, 0, 0x00270000, bhvMessagePanel),
		OBJECT(MODEL_WOODEN_SIGNPOST, 6523, 2831, -3331, 0, -90, 0, 0x00250000, bhvMessagePanel),
		OBJECT(MODEL_WOODEN_SIGNPOST, -10523, 3430, -4526, 0, 90, 0, (DIALOG_132 << 16), bhvMessagePanel),
		OBJECT(MODEL_NONE, 0, 1798, 0, 0, -180, 0, 0x000A0000, bhvSpinAirborneWarp),
		MARIO_POS(0x01, -180, 0, 1845, 0),
		OBJECT(0xFE, 1164, 2472, 4109, 0, 0, 0, 0x00020000, bhvLavaSpewer),
		OBJECT(0xFE, 3649, 2472, 4109, 0, 0, 0, 0x00020000, bhvLavaSpewer),
		OBJECT(0xFE, -3975, 2539, -383, 0, 0, 0, 0x00060000, bhvLavaSpewer),
		OBJECT(0xFE, -3975, 4047, -1098, 0, 0, 0, 0x00040000, bhvLavaSpewer),
		OBJECT(0xFE, 3944, 2472, -3560, 0, 0, 0, 0x00020000, bhvLavaSpewer),
		OBJECT(0xFE, 3206, 2472, -3560, 0, 0, 0, 0x00010000, bhvLavaSpewer),
		OBJECT(0xFE, 4668, 2829, -7596, 0, 0, 0, 0x00060000, bhvLavaSpewer),
		OBJECT(0xFE, 2804, 4441, -8461, 0, 0, 0, 0x00010000, bhvLavaSpewer),
		OBJECT(0xFE, 1389, 4595, -7762, 0, 0, 0, 0x00010000, bhvLavaSpewer),
		OBJECT(0xFE, 2335, 4411, -6855, 0, 0, 0, 0x00010000, bhvLavaSpewer),
		OBJECT(0xFE, 209, 4497, -6744, 0, 0, 0, 0x00010000, bhvLavaSpewer),
		OBJECT(0xFE, 488, 4524, -8429, 0, 0, 0, 0x00020000, bhvLavaSpewer),
		OBJECT(0xFE, 2154, 4506, -7974, 0, 0, 0, 0x00020000, bhvLavaSpewer),
		OBJECT(0xFE, 2930, 4489, -7589, 0, 0, 0, 0x00030000, bhvLavaSpewer),
		OBJECT(0xFE, 1499, 4489, -8481, 0, 0, 0, 0x00030000, bhvLavaSpewer),
		OBJECT(0xFE, 1092, 4489, -7027, 0, 0, 0, 0x00030000, bhvLavaSpewer),
		OBJECT(0xFE, 678, 4489, -7752, 0, 0, 0, 0x00040000, bhvLavaSpewer),
		OBJECT(0xFE, 4675, 2472, -3560, 0, 0, 0, 0x00030000, bhvLavaSpewer),
		OBJECT(0xFE, -3565, 2472, -3560, 0, 0, 0, 0x00020000, bhvLavaSpewer),
		OBJECT(0xFE, -6226, 2946, 4632, 0, 0, 0, 0x00060000, bhvLavaSpewer),
		OBJECT(MODEL_STAR, -2975, 5616, -4135, 0, 0, 0, (0 << 24), bhvStar),
		OBJECT(MODEL_STAR, -4975, 5616, -6135, 0, 0, 0, 0x00020000, bhvStar),
		OBJECT(MODEL_STAR, -4975, 5616, -4135, 0, 0, 0, 0x00020000, bhvStar),
		OBJECT(MODEL_STAR, -4975, 5616, -2135, 0, 0, 0, 0x00020000, bhvStar),
		OBJECT(MODEL_STAR, -2975, 5616, -2135, 0, 0, 0, 0x00020000, bhvStar),
		OBJECT(MODEL_STAR, -2975, 5616, -6135, 0, 0, 0, 0x00020000, bhvStar),
		OBJECT(MODEL_STAR, -3975, 5397, -6135, 0, 0, 0, 0x00020000, bhvStar),
		OBJECT(MODEL_STAR, -11047, 7443, -3368, 0, 0, 0, 0x02000000, bhvStar),
		OBJECT(0xFF, -21, 1926, -2575, 0, 29, 0, 0x00040000, bhvBitfsTiltingInvertedPyramid),
		OBJECT(0xFF, -5468, 2386, 4573, 0, 0, 0, 0x00020000, bhvBitfsTiltingInvertedPyramid),
		OBJECT(MODEL_NONE, -218, 2372, -3510, 0, 90, 0, 0x00000000, bhvCoinFormation),
		OBJECT(0xFF, -1926, 2416, 4698, 0, 29, 0, 0x00040000, bhvBitfsTiltingInvertedPyramid),
		OBJECT(0xFF, -1116, 2254, 4343, 0, 0, 0, 0x00020000, bhvBitfsTiltingInvertedPyramid),
		OBJECT(0xFF, -1854, 2162, 3787, 0, -43, 0, 0x00020000, bhvBitfsTiltingInvertedPyramid),
		OBJECT(0xFF, -2461, 2307, 4045, 0, 0, 0, 0x00020000, bhvBitfsTiltingInvertedPyramid),
		OBJECT(0xFF, -2763, 2293, 4622, 0, 13, 0, 0x00020000, bhvBitfsTiltingInvertedPyramid),
		OBJECT(0xFF, -19, 2059, 3029, 0, -61, 0, 0x00030000, bhvBitfsTiltingInvertedPyramid),
		OBJECT(0xFF, 4964, 2225, 3230, 0, 28, 0, 0x00020000, bhvBitfsTiltingInvertedPyramid),
		OBJECT(MODEL_NONE, -8288, 3164, 1540, 0, 0, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, 1520, 2942, 6520, 0, 90, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -1110, 1932, 0, 0, 90, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -3975, 2647, 2657, 0, 0, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, 5959, 2888, -5615, 0, 0, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -322, 4709, -7596, 0, 0, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_BLUE_COIN, -1116, 2468, 4343, 0, 0, 0, 0x00020000, bhvHiddenBlueCoin),
		OBJECT(MODEL_BLUE_COIN, -1854, 2376, 3787, 0, -43, 0, 0x00010000, bhvHiddenBlueCoin),
		OBJECT(MODEL_BLUE_COIN, -2461, 2521, 4045, 0, 0, 0, 0x00020000, bhvHiddenBlueCoin),
		OBJECT(MODEL_BLUE_COIN, -2763, 2507, 4622, 0, 13, 0, 0x00020000, bhvHiddenBlueCoin),
		OBJECT(MODEL_NONE, -10195, 3430, -2192, 0, 90, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -3975, 5070, -4135, 0, -180, 0, 0x00000000, bhvCoinFormation),
		OBJECT(0xFF, -10603, 3723, -3368, 0, 0, 0, 0x00010000, bhvHotBackForth),
		OBJECT(0xFF, -10603, 4223, -3368, 0, 0, 0, 0x00000000, bhvHotBackForth),
		OBJECT(0xFF, -10603, 4723, -3368, 0, 0, 0, 0x00010000, bhvHotBackForth),
		OBJECT(0xFF, -10603, 5223, -3368, 0, 0, 0, 0x00000000, bhvHotBackForth),
		OBJECT(0xFF, -10603, 5723, -3368, 0, 0, 0, 0x00010000, bhvHotBackForth),
		OBJECT(0xFF, -10603, 6223, -3368, 0, 0, 0, 0x00000000, bhvHotBackForth),
		OBJECT(0xFF, -10603, 6723, -3368, 0, 0, 0, 0x00010000, bhvHotBackForth),
		OBJECT(0xFF, -10603, 3223, -3368, 0, 0, 0, 0x00000000, bhvHotBackForth),
		OBJECT(0xE6, 4830, 2111, 2158, 0, 90, 0, 0x00010000, bhv_costume_token),
		OBJECT(0xE3, -4956, 5023, -5119, 0, 0, 0, 0x00000000, bhv_Wallet),
		OBJECT(MODEL_NONE, -2849, 5323, -3093, 7, 79, 0, 0x004C0000, bhvZipline),
		OBJECT(MODEL_NONE, -5322, 4410, 3139, 12, -171, 0, 0x00380000, bhvZipline),
		TERRAIN(bob_area_1_collision),
		MACRO_OBJECTS(bob_area_1_macro_objs),
		SET_BACKGROUND_MUSIC(0x00, SEQ_REDHOT),
		TERRAIN_TYPE(TERRAIN_STONE),
		/* Fast64 begin persistent block [area commands] */
		/* Fast64 end persistent block [area commands] */
	END_AREA(),

	FREE_LEVEL_POOL(),
	MARIO_POS(0x01, -180, 0, 1845, 0),
	CALL(0, lvl_init_or_update),
	CALL_LOOP(1, lvl_init_or_update),
	CLEAR_LEVEL(),
	SLEEP_BEFORE_EXIT(1),
	EXIT(),
};
