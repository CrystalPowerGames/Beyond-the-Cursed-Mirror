#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"

#include "game/level_update.h"

#include "levels/scripts.h"

#include "actors/common1.h"
#include "actors/group0.h"

/* Fast64 begin persistent block [includes] */
/* Fast64 end persistent block [includes] */

#include "make_const_nonconst.h"
#include "levels/ddd/header.h"

/* Fast64 begin persistent block [scripts] */
/* Fast64 end persistent block [scripts] */

const LevelScript level_ddd_entry[] = {
	INIT_LEVEL(),
	LOAD_YAY0(0x07, _ddd_segment_7SegmentRomStart, _ddd_segment_7SegmentRomEnd), 
	LOAD_YAY0_TEXTURE(0x09, _water_yay0SegmentRomStart, _water_yay0SegmentRomEnd), 
	LOAD_YAY0(0x0B, _effect_yay0SegmentRomStart, _effect_yay0SegmentRomEnd), 
	LOAD_YAY0(0x0A, _water_skybox_yay0SegmentRomStart, _water_skybox_yay0SegmentRomEnd), 
	LOAD_YAY0(0x05, _group1_yay0SegmentRomStart, _group1_yay0SegmentRomEnd), 
	LOAD_RAW(0x0C, _group1_geoSegmentRomStart, _group1_geoSegmentRomEnd), 
	LOAD_YAY0(0x06, _group14_yay0SegmentRomStart, _group14_yay0SegmentRomEnd), 
	LOAD_RAW(0x0D, _group14_geoSegmentRomStart, _group14_geoSegmentRomEnd), 
	LOAD_YAY0(0x08, _common0_yay0SegmentRomStart, _common0_yay0SegmentRomEnd), 
	LOAD_RAW(0x0F, _common0_geoSegmentRomStart, _common0_geoSegmentRomEnd), 
	ALLOC_LEVEL_POOL(),
	MARIO(MODEL_MARIO, 0x00000001, bhvMario), 
	JUMP_LINK(script_func_global_1), 
	JUMP_LINK(script_func_global_2), 
	JUMP_LINK(script_func_global_15), 
	LOAD_MODEL_FROM_GEO(MODEL_THWOMPFORM, thwompform_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_BANNER, banner_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_BEWER, bewer_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_WHPLAT, whplat_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_WEAKGRATE, weakgrate_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_THWOMPKING, thwompking_geo), 
	LOAD_MODEL_FROM_GEO(0xF9, podoboo_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_QUEEN, thwompqueen_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_QUEEN_ROCK, queenrock_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_THWOMPGATE, thwompgate_geo), 
	//LOAD_MODEL_FROM_GEO(MODEL_BILLMASK_C9, billmask_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_PIPE_C9, warp_pipe_geo), 
	LOAD_MODEL_FROM_GEO(MODEL_THWOMPGUARD, thwompguard_geo), 

	/* Fast64 begin persistent block [level commands] */
	/* Fast64 end persistent block [level commands] */

	AREA(1, ddd_area_1),
		WARP_NODE(0x0A, LEVEL_DDD, 0x01, 0x0A, WARP_NO_CHECKPOINT),
		WARP_NODE(240, LEVEL_CASTLE, 0x03, 0x08, WARP_NO_CHECKPOINT),
		WARP_NODE(241, LEVEL_CASTLE, 0x03, 0x07, WARP_NO_CHECKPOINT),
		WARP_NODE(0x00, LEVEL_DDD, 0x02, 0x0A, WARP_NO_CHECKPOINT),
		WARP_NODE(0x01 /* Rocket Boots */, LEVEL_WMOTR, 0x01, 0x0A, WARP_NO_CHECKPOINT),
		WARP_NODE(0x02, LEVEL_BOB, 0x01, 0x0A, WARP_NO_CHECKPOINT),
		WARP_NODE(0x03, LEVEL_BOB, 0x01, 0x0A, WARP_NO_CHECKPOINT),
		OBJECT(MODEL_ATM, -9220, 79, -2660, 0, 36, 0, 0x00000000, bhvATM),
		OBJECT(MODEL_BLUE_COIN, -954, 1787, 9808, 0, 0, 0, 0x00000000, bhvHiddenBlueCoin),
		OBJECT(MODEL_BLUE_COIN, -306, 1787, 9808, 0, 0, 0, 0x00000000, bhvHiddenBlueCoin),
		OBJECT(MODEL_BLUE_COIN, 342, 1787, 9808, 0, 0, 0, 0x00000000, bhvHiddenBlueCoin),
		OBJECT(MODEL_BLUE_COIN, 991, 1787, 9808, 0, 0, 0, 0x00000000, bhvHiddenBlueCoin),
		OBJECT(MODEL_BLUE_COIN_SWITCH, -1143, 1787, 10658, 0, 0, 0, 0x00000000, bhvBlueCoinSwitch),
		OBJECT(MODEL_EXCLAMATION_BOX, 6421, 883, 698, 0, 0, 0, 0x00000000, bhvExclamationBox),
		OBJECT(MODEL_EXCLAMATION_BOX, 6067, 1386, -7763, 0, 0, 0, 0x00000000, bhvExclamationBox),
		OBJECT(MODEL_NONE, -7553, 100, 724, 0, 90, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -52, -101, 698, 0, 90, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, 3611, 1795, 10306, 0, 90, 0, (2 << 16), bhvCoinFormation),
		OBJECT(MODEL_NONE, 5737, 1145, -8385, 0, 90, 0, (1 << 16), bhvCoinFormation),
		OBJECT(MODEL_NONE, 6982, 1145, -8385, 0, 90, 0, (1 << 16), bhvCoinFormation),
		OBJECT(MODEL_NONE, 3611, 1787, 3762, 0, 90, 0, (2 << 16), bhvCoinFormation),
		OBJECT(0xEF, -7827, 637, 3321, 0, 0, 0, 0x00000000, bhvGreenCoin),
		OBJECT(0xEF, -1290, 2883, 10347, 0, 0, 0, 0x00000000, bhvGreenCoin),
		OBJECT(0xEF, 7044, 642, 1320, 0, 0, 0, 0x00000000, bhvGreenCoin),
		OBJECT(MODEL_KOOPA_WITH_SHELL, -9230, 79, 4085, 0, 130, 0, (7 << 24) | (107 << 16), bhvKTQshop),
		MARIO_POS(0x01, 0, -7962, 79, 724),
		OBJECT(MODEL_YELLOW_COIN, 4190, 1442, 6244, 0, 0, 0, (0 << 16), bhvYellowCoinPath),
		OBJECT(MODEL_YELLOW_COIN, 4173, 1440, 6160, 0, 0, 0, (1 << 16), bhvYellowCoinPath),
		OBJECT(MODEL_YELLOW_COIN, 4157, 1420, 6057, 0, 0, 0, (2 << 16), bhvYellowCoinPath),
		OBJECT(MODEL_YELLOW_COIN, 4142, 1418, 5983, 0, 0, 0, (3 << 16), bhvYellowCoinPath),
		OBJECT(MODEL_YELLOW_COIN, 4124, 1415, 5889, 0, 0, 0, (4 << 16), bhvYellowCoinPath),
		OBJECT(MODEL_YELLOW_COIN, 4097, 1300, 5632, 0, 0, 0, (11 << 16), bhvYellowCoinPath),
		OBJECT(MODEL_YELLOW_COIN, 4087, 1291, 5573, 0, 0, 0, (12 << 16), bhvYellowCoinPath),
		OBJECT(MODEL_YELLOW_COIN, 4073, 1281, 5499, 0, 0, 0, (13 << 16), bhvYellowCoinPath),
		OBJECT(MODEL_YELLOW_COIN, 4064, 1275, 5443, 0, 0, 0, (14 << 16), bhvYellowCoinPath),
		OBJECT(MODEL_YELLOW_COIN, 4054, 1262, 5381, 0, 0, 0, (15 << 16), bhvYellowCoinPath),
		OBJECT(MODEL_YELLOW_COIN, 4133, 1008, 5239, 0, 0, 0, (40 << 16), bhvYellowCoinPath),
		OBJECT(MODEL_YELLOW_COIN, 4128, 999, 5168, 0, 0, 0, (41 << 16), bhvYellowCoinPath),
		OBJECT(MODEL_YELLOW_COIN, 4122, 996, 5105, 0, 0, 0, (42 << 16), bhvYellowCoinPath),
		OBJECT(MODEL_YELLOW_COIN, 4114, 996, 5032, 0, 0, 0, (43 << 16), bhvYellowCoinPath),
		OBJECT(MODEL_YELLOW_COIN, 4110, 985, 4961, 0, 0, 0, (44 << 16), bhvYellowCoinPath),
		OBJECT(MODEL_YELLOW_COIN, 4679, 727, 5511, 0, 0, 0, (60 << 16), bhvYellowCoinPath),
		OBJECT(MODEL_YELLOW_COIN, 4668, 727, 5452, 0, 0, 0, (61 << 16), bhvYellowCoinPath),
		OBJECT(MODEL_YELLOW_COIN, 4654, 720, 5378, 0, 0, 0, (62 << 16), bhvYellowCoinPath),
		OBJECT(MODEL_YELLOW_COIN, 4638, 729, 5299, 0, 0, 0, (63 << 16), bhvYellowCoinPath),
		OBJECT(MODEL_YELLOW_COIN, 4621, 729, 5207, 0, 0, 0, (64 << 16), bhvYellowCoinPath),
		OBJECT(MODEL_PIPE_C9, -1652, -108, -3498, 0, 0, 0, (1 << 16), bhvWarpPipe),
		OBJECT(0xEB, 3675, 3422, -4066, 0, 137, 0, 0x00000000, bhvGoldRing),
		OBJECT(0xEB, 2012, 3422, -9167, 0, 68, 0, 0x00000000, bhvGoldRing),
		OBJECT(0xEB, 6361, 3422, -12332, 0, -4, 0, 0x00000000, bhvGoldRing),
		OBJECT(0xEB, 10700, 3422, -9186, 0, -63, 0, 0x00000000, bhvGoldRing),
		OBJECT(0xEB, 9049, 3422, -4069, 0, -134, 0, 0x00000000, bhvGoldRing),
		OBJECT(MODEL_PURPLE_SWITCH, 6359, 961, -7763, 0, 0, 0, (1 << 24) | (30 << 16), bhvPurpleSwitchHiddenBoxes),
		OBJECT(MODEL_NONE, 6421, 459, 698, 0, 0, 0, 0x00020000, bhv_SafeZone),
		OBJECT(MODEL_NONE, -1607, -108, 698, 0, 0, 0, 0x00020000, bhv_SafeZone),
		OBJECT(MODEL_NONE, 3611, 1787, 10306, 0, 0, 0, 0x00020000, bhv_SafeZone),
		OBJECT(MODEL_NONE, 6359, 961, -7763, 0, 0, 0, 0x00020000, bhv_SafeZone),
		OBJECT(MODEL_BEWER, 2388, 2305, 5627, 0, 0, 0, 0x00000000, bhvBewer),
		OBJECT(MODEL_BEWER, 4835, 2305, 8441, 0, -180, 0, (1 << 16), bhvBewer),
		OBJECT(MODEL_NONE, -1607, 355, 698, 0, 90, 0, (0x0A << 16), bhvSpinAirborneWarp),
		OBJECT(MODEL_NONE, -9535, 79, 724, 0, 90, 0, (0x0 << 16), bhvInstantActiveWarp),
		OBJECT(MODEL_NONE, -1652, 319, -1641, 0, 0, 0, (2 << 16), bhvAirborneStarCollectWarp),
		OBJECT(MODEL_NONE, -1652, 319, -1641, 0, 0, 0, (3 << 16), bhvDeathWarp),
		OBJECT(MODEL_PURPLE_SWITCH, -1861, 2509, 10692, 0, -180, 0, (10 << 24), bhvPurpleSwitchHiddenBoxes),
		OBJECT(MODEL_BANNER, -1206, -108, 242, 0, -45, 0, 0x00000000, bhvBanner),
		OBJECT(MODEL_BANNER, -1206, -108, 1154, 0, -135, 0, 0x00000000, bhvBanner),
		OBJECT(MODEL_BANNER, 2731, 1787, 3762, 0, 90, 0, 0x00000000, bhvBanner),
		OBJECT(MODEL_BANNER, -9362, 79, 224, 0, 90, 0, 0x00000000, bhvBanner),
		OBJECT(MODEL_BANNER, -1561, 2509, 10708, 0, -180, 0, 0x00000000, bhvBanner),
		OBJECT(MODEL_BANNER, -2161, 2509, 10708, 0, -180, 0, 0x00000000, bhvBanner),
		OBJECT(MODEL_BANNER, -6262, 79, 1023, 0, 90, 0, 0x00000000, bhvBanner),
		OBJECT(MODEL_BANNER, -9362, 79, 1224, 0, 90, 0, 0x00000000, bhvBanner),
		OBJECT(MODEL_THWOMPFORM, -3422, 84, 698, 0, 0, 0, 0x00000000, bhvThwompform),
		OBJECT(MODEL_THWOMPFORM, -4558, 281, 698, 0, 0, 0, 0x00000000, bhvThwompform),
		OBJECT(MODEL_THWOMPFORM, 6421, 459, 2592, 0, 90, 0, 0x00000000, bhvThwompform),
		OBJECT(MODEL_THWOMPFORM, 6421, 1015, 3734, 0, 90, 0, 0x00000000, bhvThwompform),
		OBJECT(MODEL_THWOMPFORM, 5362, 1543, 3734, 0, 0, 0, 0x00000000, bhvThwompform),
		OBJECT(MODEL_THWOMPFORM, -1278, 2087, 9138, 0, 90, 0, 0x00000000, bhvThwompform),
		OBJECT(MODEL_THWOMPGATE, -9749, 79, 724, 0, 0, 0, 0x00000000, bhvThwompgate),
		OBJECT_WITH_ACTS(MODEL_THWOMPGUARD, -1652, 75, -3496, 0, 0, 0, (73 << 16), bhvThwompguard, ACT_1),
		OBJECT(MODEL_THWOMPGUARD, -8652, 79, 1521, 0, 132, 0, (72 << 16), bhvThwompguard),
		OBJECT(MODEL_THWOMPGUARD, -2239, 2509, 10167, 0, 132, 0, (74 << 16), bhvThwompguard),
		OBJECT(0xE6, 3611, 2667, 3762, 0, 90, 0, (11 << 16), bhv_costume_token),
		OBJECT(MODEL_WHOMP, 317, 1787, 10267, 0, 90, 0, 0x00000000, bhvSmallWhomp),
		OBJECT(MODEL_WHOMP, 3611, 2003, 7034, 0, -180, 0, 0x00000000, bhvSmallWhomp),
		OBJECT(MODEL_WHOMP, -2270, 1940, -7970, 0, 0, 0, (3 << 24), bhvWhompKingBoss),
		OBJECT(MODEL_WHPLAT, -2270, 1893, -7970, 0, 0, 0, 0x00000000, bhvWhplat),
		TERRAIN(ddd_area_1_collision),
		MACRO_OBJECTS(ddd_area_1_macro_objs),
		SET_BACKGROUND_MUSIC(0x00, SEQ_NSMB_CASTLE),
		TERRAIN_TYPE(TERRAIN_GRASS),
		/* Fast64 begin persistent block [area commands] */
		/* Fast64 end persistent block [area commands] */
	END_AREA(),

	AREA(2, ddd_area_2),
		WARP_NODE(0x0A, LEVEL_DDD, 0x01, 0x0A, WARP_NO_CHECKPOINT),
		WARP_NODE(240, LEVEL_CASTLE, 0x03, 0x08, WARP_NO_CHECKPOINT),
		WARP_NODE(241, LEVEL_CASTLE, 0x03, 0x07, WARP_NO_CHECKPOINT),
		WARP_NODE(0x00, LEVEL_DDD, 0x01, 0x00, WARP_NO_CHECKPOINT),
		WARP_NODE(0x01, LEVEL_DDD, 0x03, 0x0A, WARP_NO_CHECKPOINT),
		WARP_NODE(0x02, LEVEL_SL, 0x01, 0x0A, WARP_NO_CHECKPOINT),
		WARP_NODE(0x03/*win*/, LEVEL_BOB, 0x01, 0x0A, WARP_NO_CHECKPOINT),
		WARP_NODE(0x04/*lose*/, LEVEL_BOB, 0x01, 0x0A, WARP_NO_CHECKPOINT),
		OBJECT(MODEL_NONE, -5591, 1206, -43, 0, 0, 0, (1 << 16), bhvWarp),
		OBJECT(MODEL_NONE, 3807, 279, -2223, 0, -180, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, 3807, 279, 2136, 0, -180, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, 1475, 101, -43, 0, -90, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -2513, 79, -43, 0, -180, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -913, 894, 8151, 0, -90, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -5743, 2070, 8151, 0, -90, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -8441, 2525, -87, 0, -180, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_NONE, -7641, 2589, -2872, 0, -180, 0, 0x00000000, bhvCoinFormation),
		OBJECT(MODEL_RED_FLAME, 2908, 1417, -5062, 0, 0, 0, 0x00000000, bhvFlame),
		OBJECT(MODEL_RED_FLAME, 1523, 1417, -6448, 0, 0, 0, 0x00000000, bhvFlame),
		OBJECT(MODEL_RED_FLAME, 137, 1417, -5062, 0, 0, 0, 0x00000000, bhvFlame),
		OBJECT(MODEL_RED_FLAME, 2908, 6457, -5062, 0, 0, 0, 0x00000000, bhvFlame),
		OBJECT(MODEL_RED_FLAME, 1523, 6457, -6448, 0, 0, 0, 0x00000000, bhvFlame),
		OBJECT(MODEL_RED_FLAME, 1523, 6457, -3676, 0, 0, 0, 0x00000000, bhvFlame),
		OBJECT(MODEL_BLUE_FLAME, 2908, 4078, -5062, 0, 0, 0, 0x00000000, bhvFlame),
		OBJECT(MODEL_BLUE_FLAME, 1523, 4078, -6448, 0, 0, 0, 0x00000000, bhvFlame),
		OBJECT(MODEL_BLUE_FLAME, 137, 4078, -5062, 0, 0, 0, 0x00000000, bhvFlame),
		OBJECT(MODEL_BLUE_FLAME, 1523, 4078, -3676, 0, 0, 0, 0x00000000, bhvFlame),
		OBJECT(0xEE, 2451, 3564, -4072, 0, 90, 0, 0x00000000, bhvHammerBro),
		OBJECT(0xEE, 743, 3034, -6033, 0, -90, 0, 0x00000000, bhvHammerBro),
		OBJECT(MODEL_NONE, -346, -372, 4497, 0, 0, 0, (20 << 24) | (2 << 16), bhvWarp),
		OBJECT(0xF9, -913, 971, 8151, 0, 90, 0, 0x00000000, bhvPodoboo),
		OBJECT(0xF9, -913, 971, 7851, 0, 90, 0, 0x00000000, bhvPodoboo),
		OBJECT(0xF9, -913, 971, 8451, 0, 90, 0, 0x00000000, bhvPodoboo),
		OBJECT(0xF9, -5743, 2245, 7851, 0, 90, 0, 0x00000000, bhvPodoboo),
		OBJECT(0xF9, -5743, 2245, 8451, 0, 90, 0, 0x00000000, bhvPodoboo),
		OBJECT(0xF9, -5743, 2245, 8151, 0, 90, 0, 0x00000000, bhvPodoboo),
		OBJECT(0xF9, 1523, 154, 6685, 0, -180, 0, 0x00000000, bhvPodoboo),
		OBJECT(0xF9, -8268, 2759, 1968, 0, 0, 0, 0x00000000, bhvPodoboo),
		OBJECT(0xF9, -7712, 2917, 1151, 0, 0, 0, 0x00000000, bhvPodoboo),
		OBJECT(0xF9, -8021, 2939, -810, 0, 0, 0, 0x00000000, bhvPodoboo),
		OBJECT(0xF9, -7427, 2429, -2352, 0, 0, 0, 0x00000000, bhvPodoboo),
		OBJECT(0xF9, -8408, 2648, -2688, 0, 0, 0, 0x00000000, bhvPodoboo),
		OBJECT(0xF9, -8030, 2681, -4092, 0, 0, 0, 0x00000000, bhvPodoboo),
		OBJECT(0xF9, -7700, 2782, -5721, 0, 0, 0, 0x00000000, bhvPodoboo),
		OBJECT(MODEL_EXCLAMATION_BOX, 1523, 495, 5416, 0, 0, 0, (3 << 16), bhvExclamationBox),
		OBJECT(MODEL_BEWER, -9413, 2584, 5705, 0, 0, 0, 0x00000000, bhvBewer),
		OBJECT(MODEL_BEWER, -6523, 2584, 3554, 0, -180, 0, (1 << 16), bhvBewer),
		OBJECT(0xE2, 1752, 4732, -6033, 0, 0, 0, (2 << 16), bhvSnakeMain),
		OBJECT(MODEL_NONE, 4066, 79, -43, 0, -90, 0, (0x0A << 16), bhvInstantActiveWarp),
		OBJECT(MODEL_STAR, -7980, 2802, -7120, 0, 0, 0, (2 << 24), bhvStar),
		OBJECT(MODEL_STAR, -561, 6764, -5062, 0, 0, 0, (4 << 24), bhvStar),
		OBJECT(MODEL_NONE, 309, 495, 4499, 0, -90, 0, (3 << 16), bhvAirborneStarCollectWarp),
		OBJECT(MODEL_NONE, 309, 495, 4499, 0, -90, 0, (4 << 16), bhvDeathWarp),
		OBJECT(MODEL_THWOMP, -7980, 2444, 8151, 0, 90, 0, 0x00000000, bhvThwomp),
		OBJECT(MODEL_THWOMP, -3428, 1309, 8151, 0, 90, 0, 0x00000000, bhvThwomp),
		OBJECT(MODEL_THWOMP, 2383, 79, -6110, 0, 90, 0, (1 << 16), bhvThwomp),
		OBJECT(MODEL_THWOMP, 2446, 1755, -4072, 0, -90, 0, (1 << 16), bhvThwomp),
		OBJECT(MODEL_THWOMP, 2451, 2433, -5250, 0, 0, 0, (1 << 16), bhvThwomp),
		OBJECT(MODEL_THWOMP, 1552, 4432, -5033, 0, -90, 0, (1 << 16), bhvThwomp),
		OBJECT(MODEL_THWOMPGUARD, -5148, 1188, 599, 0, 132, 0, (75 << 16), bhvThwompguard),
		OBJECT(MODEL_THWOMPGUARD, 337, 79, -3952, 0, 132, 0, (76 << 16), bhvThwompguard),
		OBJECT(MODEL_THWOMPGUARD, 2838, 4632, -6033, 0, -70, 0, (DIALOG_138 << 16), bhvThwompguard),
		OBJECT(0xE3, -4042, 1215, -1297, 0, 0, 0, (8 << 16), bhv_Wallet),
		TERRAIN(ddd_area_2_collision),
		MACRO_OBJECTS(ddd_area_2_macro_objs),
		SET_BACKGROUND_MUSIC(0x00, SEQ_NSMB_CASTLE),
		TERRAIN_TYPE(TERRAIN_GRASS),
		/* Fast64 begin persistent block [area commands] */
		/* Fast64 end persistent block [area commands] */
	END_AREA(),

	AREA(3, ddd_area_3),
		WARP_NODE(0x0A, LEVEL_DDD, 0x01, 0x0A, WARP_NO_CHECKPOINT),
		WARP_NODE(240, LEVEL_CASTLE, 0x03, 0x08, WARP_NO_CHECKPOINT),
		WARP_NODE(241, LEVEL_CASTLE, 0x03, 0x07, WARP_NO_CHECKPOINT),
		WARP_NODE(0x00, LEVEL_DDD, 0x01, 0x00, WARP_NO_CHECKPOINT),
		WARP_NODE(0x01, LEVEL_DDD, 0x04, 0x0A, WARP_NO_CHECKPOINT),
		OBJECT_WITH_ACTS(MODEL_THWOMPKING, 0, 1710, -5207, 0, 0, 0, 0x00000000, bhvThwompking, ACT_1),
		OBJECT_WITH_ACTS(MODEL_THWOMPKING, -666, 638, -674, 0, 29, 0, (1 << 16), bhvThwompking, ACT_2 | ACT_3 | ACT_4 | ACT_5 | ACT_6),
		OBJECT_WITH_ACTS(MODEL_EXCLAMATION_BOX, 440, 1026, -517, 0, 0, 0, (1 << 16), bhvExclamationBox, ACT_2 | ACT_3 | ACT_4 | ACT_5 | ACT_6),
		OBJECT(MODEL_NONE, 0, 1473, 0, 0, -180, 0, (0x0A << 16), bhvAirborneWarp),
		OBJECT(MODEL_WEAKGRATE, -600, 638, -600, 0, 0, 0, 0x00000000, bhvWeakGrate),
		OBJECT(MODEL_WEAKGRATE, 600, 638, -600, 0, 0, 0, 0x00000000, bhvWeakGrate),
		OBJECT(MODEL_WEAKGRATE, -600, 638, 600, 0, 0, 0, 0x00000000, bhvWeakGrate),
		OBJECT(MODEL_WEAKGRATE, 600, 638, 600, 0, 0, 0, 0x00000000, bhvWeakGrate),
		TERRAIN(ddd_area_3_collision),
		MACRO_OBJECTS(ddd_area_3_macro_objs),
		STOP_MUSIC(0),
		TERRAIN_TYPE(TERRAIN_GRASS),
		/* Fast64 begin persistent block [area commands] */
		/* Fast64 end persistent block [area commands] */
	END_AREA(),

	AREA(4, ddd_area_4),
		WARP_NODE(0x0A, LEVEL_DDD, 0x01, 0x0A, WARP_NO_CHECKPOINT),
		WARP_NODE(240, LEVEL_CASTLE, 0x03, 0x08, WARP_NO_CHECKPOINT),
		WARP_NODE(241, LEVEL_CASTLE, 0x03, 0x07, WARP_NO_CHECKPOINT),
		WARP_NODE(0x00, LEVEL_DDD, 0x01, 0x00, WARP_NO_CHECKPOINT),
		WARP_NODE(0x01, LEVEL_DDD, 0x03, 0x0A, WARP_NO_CHECKPOINT),
		OBJECT(MODEL_BILLMASK_C9, -1444, 1843, 1600, 0, 0, 0, (2 << 16), bhvCrowbarPower),
		OBJECT(MODEL_QUEEN, 0, 43, 0, 0, 0, 0, (6 << 24), bhvQueen),
		OBJECT(MODEL_NONE, 0, 509, 2005, 0, -180, 0, (0x0A << 16), bhvAirborneWarp),
		OBJECT(MODEL_WEAKGRATE, 1556, 661, -600, 0, 0, 0, (1 << 16), bhvWeakGrate),
		OBJECT(MODEL_WEAKGRATE, 356, 1243, -1800, 0, 0, 0, (1 << 16), bhvWeakGrate),
		OBJECT(MODEL_WEAKGRATE, 2156, 943, -1200, 0, 0, 0, (2 << 16), bhvWeakGrate),
		OBJECT(MODEL_WEAKGRATE, -844, 1243, -1800, 0, 0, 0, (2 << 16), bhvWeakGrate),
		OBJECT(MODEL_WEAKGRATE, -1444, 2043, -600, 0, 0, 0, (2 << 16), bhvWeakGrate),
		OBJECT(MODEL_WEAKGRATE, -1444, 2043, 600, 0, 0, 0, (1 << 16), bhvWeakGrate),
		OBJECT(MODEL_WEAKGRATE, -644, 2243, 0, 0, 0, 0, (2 << 16), bhvWeakGrate),
		TERRAIN(ddd_area_4_collision),
		MACRO_OBJECTS(ddd_area_4_macro_objs),
		STOP_MUSIC(0),
		TERRAIN_TYPE(TERRAIN_GRASS),
		/* Fast64 begin persistent block [area commands] */
		/* Fast64 end persistent block [area commands] */
	END_AREA(),

	FREE_LEVEL_POOL(),
	MARIO_POS(0x01, 0, -7962, 79, 724),
	CALL(0, lvl_init_or_update),
	CALL_LOOP(1, lvl_init_or_update),
	CLEAR_LEVEL(),
	SLEEP_BEFORE_EXIT(1),
	EXIT(),
};
